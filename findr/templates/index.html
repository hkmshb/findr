<!DOCTYPE html>
<html lang="en" ng-app="app-findr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="findr; KEDCO Account Explorer">
    <meta name="author" content="Abdul-Hakeem Shaibu">
    <title>Findr</title>
    <link rel="shortcut icon" href="" />
    <link rel="stylesheet" href="{{ request.static_url('findr:static/styles/style.css') }}?v2f" />
</head>
<body>
    <div ng-view></div>

    <!-- embedded templates -->
    <script type="text/ng-template" id="_home.html">
        <div class="container front">
            <div class="search-pane">
                <div class="logos">
                    <img class="org-logo" src="{{ request.static_url('findr:static/img/kedco-logo.png') }}" />
                    <img class="logo" src="{{ request.static_url('findr:static/img/findr-logo.svg') }}" />
                </div>
                <form class="search-box" ng-submit="handleSubmit()">
                    <div class="input-group">
                        <button><img src="{{ request.static_url('findr:static/img/magnifr.svg') }}" /></button>
                        <div class="input-wrap">
                            <input type="text" ng-model="findr.entry" class="form-control" 
                                   placeholder="account or meter no." />
                        </div>
                    </div>
                    <div ng-bind="findr.error" style="color:red; text-align:center;" />
                </form>
            </div>
        </div>
    </script>
    
    <script type="text/ng-template" id="_result.html">
    <div class="container result">
        <div class="search-pane">
            <div class="logos">
                <img class="org-logo" src="{{ request.static_url('findr:static/img/kedco-logo.png') }}" />
                <a href="{{ request.route_url('home') }}"><img class="logo" src="{{ request.static_url('findr:static/img/findr-logo.svg') }}" /></a>
            </div>
            <form class="search-box" ng-submit="handleSubmit()">
                <div class="input-group">
                    <button><img src="{{ request.static_url('findr:static/img/magnifr.svg') }}" /></button>
                    <div class="input-wrap">
                        <input type="text" ng-model="findr.entry" class="form-control" 
                               placeholder="account or meter no." />
                    </div>
                </div>
                <div ng-bind="(findr.error || account.error)" style="color:red; text-align:center;" />
            </form>
        </div>

        <div class="content-pane">
            <div class="content">
                <div class="label-group col-5">
                    <label class="title">Name</label>
                    <label class="value" ng-bind="(account.customerName || '-')">-</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Phone Number</label>
                    <label class="value" ng-bind="(account.phoneNumber || '-') | phoneNumber">-</label>
                </div>
                <div class="label-group col-5">
                    <label class="title">E-mail</label>
                    <label class="value" ng-bind="(account.email || '-')">-</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Tariff</label>
                    <label class="value" ng-bind="(account.tariffCode || '-')">-</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Account Number</label>
                    <label class="value" ng-bind="(account.accountNumber || '-')">-</label>
                </div>
                <div class="label-group col-5">
                    <label class="title">Region</label>
                    <label class="value" ng-bind="(account.businessUnit || '-')">-</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Meter Number</label>
                    <label class="value" ng-bind="(account.meterNumber || '-')">-</label>
                </div>                    
                <div class="label-group col-5">
                    <label class="title">Customer Service Point</label>
                    <label class="value" ng-bind="(account.undertaking || '-')">-</label>
                </div>
                <div class="label-group col-2">
                    <label class="title">Last Transaction</label>
                    <label class="value" ng-bind="(account.lastTransactionDate || '-') | limitTo:10">-</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Minimum Purchase</label>
                    <label class="value" ng-bind="(account.minimumPurchase || '0.0')">0.0</label>
                </div>
                <div class="label-group col-3">
                    <label class="title">Customer Arreas</label>
                    <label class="value" ng-bind="(account.customerArrears || '0.0')">0.0</label>
                </div>
            </div>
        </div>
    </div>
    </script>

    <!-- le javascripts -->
    <script>var urlRoot="{{ request.route_url('home') }}";</script>
    <script src="{{ request.static_url('findr:static/scripts/libs/jquery.min.js') }}"></script>
    <script src="{{ request.static_url('findr:static/scripts/libs/angular.js') }}"></script>
    <script src="{{ request.static_url('findr:static/scripts/libs/angular-route.min.js') }}"></script>
    <script src="{{ request.static_url('findr:static/scripts/libs/angular-resource.min.js') }}"></script>
    <script src="{{ request.static_url('findr:static/scripts/app.js') }}?v0e"></script>
</body>
</html>